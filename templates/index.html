{% extends "./base.html" %} {%block title%}列表{%endblock%} {%block content%}
<table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">名称</th>
      <th scope="col">余额</th>
      <th scope="col">类型</th>
      <th scope="col">时间</th>
      <th scope="col">操作</th>
    </tr>
  </thead>
  <tbody>
    {%for m in p.data%}
    <tr>
      <th scope="row">{{ m.id }}</th>
      <td>{{ m.name }}</td>
      <td>{{ m.balance }}</td>
      <td>{{ m.types }}</td>
      <td>{{ m.dateline }}</td>
      <td>
        <a class="btn btn-primary btn-sm" href="/detail/{{m.id}}">详情</a>
      </td>
    </tr>
    {%endfor%}
  </tbody>
</table>

{% if p.total_page > 0 %}
<nav>
  <ul class="pagination">
    <li class="page-item">
      {%if p.has_prev()%}
      <a class="page-link" href="?page={{p.page-1}}">上一页</a>
      {%else%}
      <a class="page-link" href="?page=0">上一页</a>
      {%endif%}
    </li>
    {%for i in 0..p.total_page%}
    <li class="page-item{%if p.page==i%} active{%endif%}">
      <a class="page-link" href="?page={{i}}">{{i+1}}</a>
    </li>
    {%endfor%}
    <li class="page-item">
      {%if p.has_next()%}
      <a class="page-link" href="?page={{p.page+1}}">下一页</a>
      {%else%}
      <a class="page-link" href="?page={{p.last_page()}}">下一页</a>
      {%endif%}
    </li>
  </ul>
</nav>
{%endif%} {%endblock%}
